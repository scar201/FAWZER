<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ‘ Ø³ÙˆØ§Ù„Ù Ø±Ù…Ø¶Ø§Ù† - ØªØ­Ø¯ÙŠ Ø§Ù„ÙÙˆØ§Ø²ÙŠØ±</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&family=Tajawal:wght@400;500;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: radial-gradient(ellipse at top, #0a0f1e, #030514), 
                        radial-gradient(ellipse at bottom, #1a2f3f, #0a1a2a);
            font-family: 'Tajawal', 'Cairo', sans-serif;
            position: relative;
            overflow-x: hidden;
        }

        /* Ø®Ù„ÙÙŠØ© Ù†Ø¬ÙˆÙ… Ù…ØªØ­Ø±ÙƒØ© */
        .stars-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle var(--duration) infinite;
            opacity: var(--opacity);
            width: var(--size);
            height: var(--size);
            top: var(--y);
            left: var(--x);
        }

        @keyframes twinkle {
            0%, 100% { opacity: var(--opacity); transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        /* Ø²ÙŠÙ†Ø© Ø±Ù…Ø¶Ø§Ù†ÙŠØ© ÙØ§Ø®Ø±Ø© */
        .ramadan-lights {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-around;
            padding: 20px;
            z-index: 5;
            pointer-events: none;
            flex-wrap: wrap;
        }

        .lantern {
            font-size: 3.5rem;
            filter: drop-shadow(0 0 15px #ffbb00);
            animation: swing 4s ease-in-out infinite;
            transform-origin: top center;
            transition: all 0.3s;
        }

        .lantern:nth-child(even) { animation-delay: 1s; }
        .lantern:nth-child(3) { animation-delay: 2s; }
        .lantern:nth-child(4) { animation-delay: 0.5s; }
        .lantern:nth-child(5) { animation-delay: 1.5s; }

        @keyframes swing {
            0%, 100% { transform: rotate(-8deg) translateY(0); }
            50% { transform: rotate(8deg) translateY(-10px); }
        }

        .moon-phase {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 5rem;
            filter: drop-shadow(0 0 30px #fff3b0);
            z-index: 6;
            animation: moonGlow 3s ease-in-out infinite;
        }

        @keyframes moonGlow {
            0%, 100% { filter: drop-shadow(0 0 20px #ffd966); }
            50% { filter: drop-shadow(0 0 40px #fff3b0) drop-shadow(0 0 60px #ffbb00); }
        }

        .floating-mosque {
            position: fixed;
            bottom: 20px;
            right: 20px;
            font-size: 4rem;
            opacity: 0.3;
            z-index: 1;
            animation: float 6s ease-in-out infinite;
        }

        .floating-mosque.left {
            left: 20px;
            right: auto;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-content {
            position: relative;
            z-index: 10;
            max-width: 1300px;
            margin: 0 auto;
            padding: 30px 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„ÙØ®Ù… */
        .epic-header {
            text-align: center;
            margin: 30px 0 50px;
            position: relative;
        }

        .title-arabic {
            font-size: 5rem;
            font-weight: 900;
            background: linear-gradient(135deg, #fff6b0, #ffd966, #ffb347);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
            letter-spacing: 2px;
            margin-bottom: 10px;
            font-family: 'Tajawal', sans-serif;
            line-height: 1.2;
        }

        .title-shadow {
            font-size: 1.8rem;
            color: rgba(255, 255, 255, 0.7);
            text-shadow: 0 0 15px gold;
            margin-bottom: 20px;
        }

        .challenge-badge {
            background: linear-gradient(135deg, #2a2a4a, #1a1a3a);
            border: 3px solid #ffd966;
            border-radius: 60px;
            padding: 15px 30px;
            display: inline-block;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
        }

        .challenge-badge span {
            font-size: 2rem;
            font-weight: bold;
            color: white;
            margin: 0 15px;
        }

        .challenge-badge .time-icon {
            font-size: 2.5rem;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); text-shadow: 0 0 30px red; }
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨ */
        .game-zone {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„ÙØ§Ø®Ø±Ø© */
        .grid-screen {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .grid-label {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            background: rgba(0, 0, 0, 0.5);
            padding: 15px 30px;
            border-radius: 60px;
            backdrop-filter: blur(10px);
            border: 1px solid #ffd966;
        }

        .grid-label span {
            color: white;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .grid-label .q-mark {
            font-size: 2.5rem;
            animation: rotate 3s infinite;
        }

        @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(10deg); }
            75% { transform: rotate(-10deg); }
        }

        .luxury-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            max-width: 700px;
            width: 100%;
            padding: 30px;
            background: rgba(10, 20, 30, 0.6);
            backdrop-filter: blur(15px);
            border-radius: 50px;
            border: 3px solid rgba(255, 215, 0, 0.6);
            box-shadow: 0 30px 50px rgba(0, 0, 0, 0.7), 
                        0 0 0 2px rgba(255, 215, 0, 0.2) inset,
                        0 0 30px rgba(255, 215, 0, 0.3);
        }

        .card {
            aspect-ratio: 1;
            background: linear-gradient(145deg, #ffd966, #b8860b);
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            font-weight: 900;
            color: #1a2a3a;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.5),
                        0 0 0 3px rgba(255, 255, 255, 0.5) inset;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .card:hover::before {
            left: 100%;
        }

        .card:hover:not(.clicked) {
            transform: scale(1.08) rotate(2deg);
            box-shadow: 0 25px 35px rgba(255, 215, 0, 0.5),
                        0 0 0 4px white inset;
        }

        .card.clicked {
            background: linear-gradient(145deg, #2a3a4a, #1a2a3a);
            color: #8a9aa5;
            border-color: #5a6a7a;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            transform: scale(0.95);
            filter: grayscale(0.8);
            cursor: not-allowed;
            pointer-events: none;
            opacity: 0.7;
        }

        .card .card-number {
            position: relative;
            z-index: 2;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.5);
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ÙØ®Ù…Ø© */
        .question-screen {
            width: 100%;
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .timer-luxury {
            width: 100%;
            max-width: 600px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 100px;
            padding: 5px;
            border: 3px solid #ffd966;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
            backdrop-filter: blur(10px);
        }

        .timer-bar-luxury {
            height: 25px;
            background: linear-gradient(90deg, #ffd966, #ffaa33, #ff8833);
            border-radius: 100px;
            width: 100%;
            transition: width 1s linear;
            position: relative;
            overflow: hidden;
        }

        .timer-bar-luxury::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shine 2s infinite;
        }

        .timer-text-luxury {
            text-align: center;
            color: white;
            font-size: 1.5rem;
            margin-top: 10px;
            font-weight: bold;
            text-shadow: 0 0 15px gold;
        }

        .question-card {
            max-width: 700px;
            width: 95%;
            background: rgba(20, 30, 45, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 60px;
            padding: 30px;
            border: 4px solid #ffd966;
            box-shadow: 0 30px 50px rgba(0, 0, 0, 0.7), 0 0 100px rgba(255, 215, 0, 0.3);
            transform-style: preserve-3d;
            animation: cardAppear 0.5s ease-out;
        }

        @keyframes cardAppear {
            from {
                opacity: 0;
                transform: translateY(50px) rotateX(-20deg);
            }
            to {
                opacity: 1;
                transform: translateY(0) rotateX(0);
            }
        }

        .question-text {
            font-size: 2.5rem;
            color: white;
            text-align: center;
            line-height: 1.6;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255,215,0,0.5);
        }

        .question-decoration {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            font-size: 2rem;
        }

        .back-btn-luxury {
            background: linear-gradient(145deg, #ffd966, #b8860b);
            color: #0a1a2a;
            font-size: 2rem;
            font-weight: bold;
            padding: 20px 50px;
            border: none;
            border-radius: 60px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5), 0 0 0 3px white inset;
            border: 2px solid #ffd966;
        }

        .back-btn-luxury:hover {
            transform: scale(1.05);
            box-shadow: 0 20px 30px rgba(255, 215, 0, 0.5), 0 0 0 4px white inset;
        }

        .reset-btn-luxury {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1.3rem;
            padding: 15px 30px;
            border: 2px solid #ffd966;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 40px;
            backdrop-filter: blur(10px);
        }

        .reset-btn-luxury:hover {
            background: rgba(255, 215, 0, 0.3);
            transform: translateY(-5px);
        }

        .footer-ramadan {
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 50px;
            font-size: 1.2rem;
            border-top: 2px solid rgba(255, 215, 0, 0.3);
            padding-top: 20px;
        }

        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø¬ÙˆØ§Ù„ */
        @media (max-width: 768px) {
            .title-arabic {
                font-size: 3rem;
            }
            
            .title-shadow {
                font-size: 1.2rem;
            }
            
            .challenge-badge span {
                font-size: 1.2rem;
            }
            
            .luxury-grid {
                gap: 15px;
                padding: 20px;
            }
            
            .card {
                font-size: 2.5rem;
            }
            
            .question-text {
                font-size: 1.6rem;
            }
            
            .back-btn-luxury {
                font-size: 1.5rem;
                padding: 15px 30px;
            }
            
            .lantern {
                font-size: 2rem;
            }
            
            .moon-phase {
                font-size: 3.5rem;
            }
        }

        @media (max-width: 480px) {
            .title-arabic {
                font-size: 2.2rem;
            }
            
            .luxury-grid {
                gap: 10px;
                padding: 15px;
            }
            
            .card {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Ù†Ø¬ÙˆÙ… Ù…ØªØ­Ø±ÙƒØ© -->
    <div class="stars-container" id="stars"></div>

    <!-- Ø²ÙŠÙ†Ø© Ø±Ù…Ø¶Ø§Ù†ÙŠØ© -->
    <div class="ramadan-lights">
        <div class="lantern">ğŸ®</div>
        <div class="lantern">ğŸ®</div>
        <div class="lantern">ğŸ®</div>
        <div class="lantern">ğŸ®</div>
        <div class="lantern">ğŸ®</div>
        <div class="lantern">ğŸ®</div>
    </div>

    <div class="moon-phase">ğŸŒ™</div>
    
    <div class="floating-mosque">ğŸ•Œ</div>
    <div class="floating-mosque left">â›²</div>

    <div class="main-content">
        <div class="epic-header">
            <div class="title-arabic">
                ğŸŒŸ Ø³ÙˆØ§Ù„Ù Ø±Ù…Ø¶Ø§Ù† ğŸŒŸ
            </div>
            <div class="title-shadow">
                ØªØ­Ø¯ÙŠ Ø§Ù„ÙÙˆØ§Ø²ÙŠØ± Ø§Ù„Ø±Ù…Ø¶Ø§Ù†ÙŠØ©
            </div>
            <div class="challenge-badge">
                <span class="time-icon">â³</span>
                <span>Ø¹Ù†Ø¯Ùƒ 20 Ø«Ø§Ù†ÙŠØ© Ø¨Ø³!</span>
                <span class="time-icon">âš¡</span>
            </div>
        </div>

        <div class="game-zone">
            <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª -->
            <div id="gridScreen" class="grid-screen">
                <div class="grid-label">
                    <span class="q-mark">â“</span>
                    <span>Ø§Ø®ØªØ§Ø± Ø±Ù‚Ù… Ø§Ù„Ø³Ø¤Ø§Ù„</span>
                    <span class="q-mark">â“</span>
                </div>
                
                <div class="luxury-grid" id="gridContainer">
                    <!-- Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø­ØªØªÙˆÙ„Ø¯ Ù‡Ù†Ø§ -->
                </div>

                <button class="reset-btn-luxury" onclick="resetGame()">
                    ğŸ”„ Ø§Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯
                </button>
            </div>

            <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ -->
            <div id="questionScreen" class="question-screen">
                <div class="timer-luxury">
                    <div id="timerBar" class="timer-bar-luxury" style="width: 100%;"></div>
                </div>
                <div id="timerText" class="timer-text-luxury">â³ Ø¨Ø§Ù‚ÙŠ 20 Ø«Ø§Ù†ÙŠØ©</div>

                <div class="question-card">
                    <div class="question-decoration">
                        <span>ğŸ•Œ</span>
                        <span>âœ¨</span>
                        <span>â­</span>
                    </div>
                    <div id="questionDisplay" class="question-text">
                        <!-- Ø§Ù„Ø³Ø¤Ø§Ù„ Ø­ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                    </div>
                    <div class="question-decoration">
                        <span>â­</span>
                        <span>âœ¨</span>
                        <span>ğŸ•Œ</span>
                    </div>
                </div>

                <button class="back-btn-luxury" onclick="backToGrid()">
                    ğŸ”™ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù…Ø±Ø¨Ø¹Ø§Øª
                </button>
            </div>
        </div>

        <div class="footer-ramadan">
            âœ¨ ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ£Ù†ØªÙ… Ø¨Ø®ÙŠØ± - Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… âœ¨
        </div>
    </div>

    <script>
        // ========== Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù…Ù† ØµÙˆØ±Ùƒ ==========
        const questions = [
            "ÙƒÙ… Ø¹Ø¯Ø¯ Ø±ÙƒØ¹Ø§Øª ØµÙ„Ø§Ø© Ø§Ù„ØªØ±Ø§ÙˆÙŠØ­ ÙŠØ¬ÙˆØ² Ø£Ø¯Ø§Ø¤Ù‡Ø§ ØºØ§Ù„Ø¨Ø§Ù‹ ØŸ",
            "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø²ÙƒØ§Ø© Ø§Ù„ÙˆØ§Ø¬Ø¨Ø© ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø±Ù…Ø¶Ø§Ù†ØŸ",
            "Ù…Ù† Ù‡Ùˆ Ø§Ù„ØµØ­Ø§Ø¨ÙŠ Ø§Ù„Ø°ÙŠ ÙƒØ§Ù† ÙŠÙ„Ù‚Ø¨ Ø¨Ø³ÙŠÙ Ø§Ù„Ù„Ù‡ Ø§Ù„Ù…Ø³Ù„ÙˆÙ„ ØŸ",
            "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙˆØ§ÙƒØ¨ ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ© ØŸ",
            "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù†Ø¨ÙŠ Ø§Ù„Ø°ÙŠ Ø§Ø¨ØªÙ„Ø¹Ù‡ Ø§Ù„Ø­ÙˆØªØŸ",
            "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ",
            "Ù…Ø§ Ø§Ù„Ù„ÙŠÙ„Ø© Ø§Ù„ØªÙŠ Ù†Ø²Ù„ ÙÙŠÙ‡Ø§ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ØŸ",
            "Ù…Ø§ Ø§Ø³Ù… Ø£ÙˆÙ„ Ø¥Ù†Ø³Ø§Ù† Ø®Ù„Ù‚Ù‡ Ø§Ù„Ù„Ù‡ØŸ",
            "Ù…Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø¶Ø® Ø§Ù„Ø¯Ù… ÙÙŠ Ø§Ù„Ø¬Ø³Ù…ØŸ",
            "Ù…Ø§ Ø§Ø³Ù… Ø£ÙˆÙ„ Ù…Ø¹Ø±ÙƒØ© Ø­Ø¯Ø«Øª ÙÙŠ Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù†ØŸ"
        ];

        // Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª (1-9)
        const totalSquares = 9;
        let availableQuestions = [...questions];
        let clickedSquares = new Array(totalSquares).fill(false);
        let currentSquareIndex = 0;
        
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…Ø¤Ù‚Øª
        let timerInterval;
        let timeLeft = 20;
        const totalTime = 20;

        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù†Ø¬ÙˆÙ… ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const size = Math.random() * 3 + 1;
                star.style.setProperty('--size', `${size}px`);
                star.style.setProperty('--x', `${Math.random() * 100}%`);
                star.style.setProperty('--y', `${Math.random() * 100}%`);
                star.style.setProperty('--opacity', Math.random() * 0.7 + 0.3);
                star.style.setProperty('--duration', `${Math.random() * 3 + 2}s`);
                starsContainer.appendChild(star);
            }
        }

        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª
        function generateGrid() {
            const gridContainer = document.getElementById('gridContainer');
            gridContainer.innerHTML = '';
            
            for (let i = 1; i <= totalSquares; i++) {
                const card = document.createElement('div');
                card.className = 'card';
                if (clickedSquares[i-1]) {
                    card.classList.add('clicked');
                }
                card.setAttribute('onclick', `openQuestion(${i-1}, this)`);
                
                const numberSpan = document.createElement('span');
                numberSpan.className = 'card-number';
                numberSpan.textContent = i;
                
                card.appendChild(numberSpan);
                gridContainer.appendChild(card);
            }
        }

        // Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        function shuffleQuestions() {
            for (let i = availableQuestions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [availableQuestions[i], availableQuestions[j]] = [availableQuestions[j], availableQuestions[i]];
            }
        }

        // ÙØªØ­ Ø§Ù„Ø³Ø¤Ø§Ù„
        function openQuestion(index, element) {
            // Ù…Ù†Ø¹ ÙØªØ­ Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ù…Ø¸Ù„Ù…Ø©
            if (clickedSquares[index]) return;
            
            // Ø­ÙØ¸ Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ
            currentSquareIndex = index;
            window.currentCard = element;
            
            // Ø§Ø®ØªÙŠØ§Ø± Ø³Ø¤Ø§Ù„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
            if (availableQuestions.length === 0) {
                availableQuestions = [...questions];
                shuffleQuestions();
            }
            
            const randomIndex = Math.floor(Math.random() * availableQuestions.length);
            const selectedQuestion = availableQuestions[randomIndex];
            
            // Ø­Ø°Ù Ø§Ù„Ø³Ø¤Ø§Ù„ Ù…Ù† Ø§Ù„Ù…ØªØ§Ø­
            availableQuestions.splice(randomIndex, 1);
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„
            document.getElementById('questionDisplay').textContent = selectedQuestion;
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø´Ø§Ø´Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ ÙˆØ¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª
            document.getElementById('gridScreen').style.display = 'none';
            document.getElementById('questionScreen').style.display = 'flex';
            
            // Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª
            startTimer();
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª
        function startTimer() {
            // Ø¥ÙŠÙ‚Ø§Ù Ø£ÙŠ Ù…Ø¤Ù‚Øª Ø³Ø§Ø¨Ù‚
            clearInterval(timerInterval);
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙˆÙ‚Øª
            timeLeft = 20;
            updateTimerDisplay();
            
            // Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                // Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    backToGrid();
                }
            }, 1000);
        }

        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ø¤Ù‚Øª
        function updateTimerDisplay() {
            const percentage = (timeLeft / totalTime) * 100;
            document.getElementById('timerBar').style.width = percentage + '%';
            document.getElementById('timerText').textContent = `â³ Ø¨Ø§Ù‚ÙŠ ${timeLeft} Ø«Ø§Ù†ÙŠØ©`;
            
            // ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ù…Ø¤Ù‚Øª ÙÙŠ Ø¢Ø®Ø± 5 Ø«ÙˆØ§Ù†ÙŠ
            if (timeLeft <= 5) {
                document.getElementById('timerBar').style.background = 'linear-gradient(90deg, #ff5555, #ff0000)';
                document.getElementById('timerText').style.color = '#ff8888';
            } else {
                document.getElementById('timerBar').style.background = 'linear-gradient(90deg, #ffd966, #ffaa33, #ff8833)';
                document.getElementById('timerText').style.color = 'white';
            }
        }

        // Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª
        function backToGrid() {
            // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª
            clearInterval(timerInterval);
            
            // ØªØ¹ØªÙŠÙ… Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù…Ø¶ØºÙˆØ· Ø¹Ù„ÙŠÙ‡
            if (window.currentCard) {
                window.currentCard.classList.add('clicked');
                clickedSquares[currentSquareIndex] = true;
            }
            
            // Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª
            document.getElementById('questionScreen').style.display = 'none';
            document.getElementById('gridScreen').style.display = 'flex';
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ø¤Ù‚Øª
            document.getElementById('timerBar').style.background = 'linear-gradient(90deg, #ffd966, #ffaa33, #ff8833)';
            document.getElementById('timerBar').style.width = '100%';
            document.getElementById('timerText').textContent = 'â³ Ø¨Ø§Ù‚ÙŠ 20 Ø«Ø§Ù†ÙŠØ©';
            document.getElementById('timerText').style.color = 'white';
        }

        // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function resetGame() {
            // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª
            clearInterval(timerInterval);
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
            clickedSquares = new Array(totalSquares).fill(false);
            availableQuestions = [...questions];
            
            // Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
            shuffleQuestions();
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª
            generateGrid();
            
            // Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª
            document.getElementById('questionScreen').style.display = 'none';
            document.getElementById('gridScreen').style.display = 'flex';
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ù…Ø¤Ù‚Øª
            document.getElementById('timerBar').style.background = 'linear-gradient(90deg, #ffd966, #ffaa33, #ff8833)';
            document.getElementById('timerBar').style.width = '100%';
            document.getElementById('timerText').textContent = 'â³ Ø¨Ø§Ù‚ÙŠ 20 Ø«Ø§Ù†ÙŠØ©';
            document.getElementById('timerText').style.color = 'white';
        }

        // ØªØ´ØºÙŠÙ„ ÙƒÙ„ Ø´ÙŠØ¡ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.onload = () => {
            createStars();
            generateGrid();
            shuffleQuestions();
        };
    </script>
</body>
</html>
